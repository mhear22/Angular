<mat-card *ngIf="!Loading">
	<h2>Add a Car</h2>
	<div>
		
	</div>
	<form (ngSubmit)="save()">
		<mat-form-field>
			<input matInput required 
				type="text"
				[(ngModel)]="nickname"
				placeholder="Whats the nickname of the car, model is fine too"
				[ngModelOptions]="{standalone:true}" />
		</mat-form-field>
		
		<mat-form-field>
			<input matInput required
				type="text"
				(keyup)="checkVin($event)"
				[(ngModel)]="vin"
				name="vin"
				placeholder="What is the Vin of the car?"
				[ngModelOptions]="{standalone:true}"/>
			
			<mat-hint *ngIf="!vin">
				<span>Vins can be found under the bonnet or in the door wells</span>
			</mat-hint>
			<mat-hint *ngIf="Car">
				<span><b>Country:</b>{{Car.CountryOfOrigin.Name}}</span>
				<span><b>Make:</b>{{Car.Manufacturer.Name}}</span>
			</mat-hint>
		</mat-form-field>
		
		<mat-form-field>
			<mat-select placeholder="What Year was it made?" [(value)]="createdYear">
				<mat-option *ngFor="let year of years" [value]="year">
					{{year}}
				</mat-option>
			</mat-select>
		</mat-form-field>
		
		<mat-form-field>
			<input matInput required
				type="number"
				[(ngModel)]="currentMileage"
				placeholder="Whats the Current Mileage"
				[ngModelOptions]="{standalone:true}"
			/>
		</mat-form-field>
		
		<mat-form-field>
			<input matInput
				type="date"
				[(ngModel)]="nextService"
				placeholder="When is your next Service"
				[ngModelOptions]="{standalone:true}"
			/>
		</mat-form-field>
		
		<button mat-button type="submit">Submit</button>
	</form>
</mat-card>

<mat-card *ngIf="Loading">
	<mat-spinner mode="indeterminate" color="primary"></mat-spinner>
</mat-card>