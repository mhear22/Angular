<mat-card class="profile-card" *ngIf="!Loading">
	<mat-card-content>
		<div class="profile-container">
			<img *ngIf="!ProfileImageUrl" class="profile-image" (click)="UploadImage()" src="http://placehold.it/200x200" />
			<img *ngIf="ProfileImageUrl" class="profile-image" (click)="UploadImage()" [src]="ProfileImageUrl" />
			<h2>Profile</h2>
		</div>
		<mat-form-field>
			<input matInput placeholder="Username" [(ngModel)]="CurrentUser.Username" type="text"/>
		</mat-form-field>
		<mat-form-field>
			<input matInput placeholder="Email" [(ngModel)]="CurrentUser.EmailAddress" type="text"/>
		</mat-form-field>
		<button mat-raised-button (click)="Update()">Update</button>

		<div class="divider">
			<mat-divider></mat-divider>
		</div>
			
		<h3 class="title">Change Password</h3>
		<mat-form-field>
			<input matInput placeholder="Old Password" [(ngModel)]="OldPassword"/>
		</mat-form-field>
		<mat-form-field>
			<input matInput placeholder="New Password" [(ngModel)]="NewPassword"/>
		</mat-form-field>
		<button mat-raised-button (click)="ChangePassword()">Change Password</button>
		
		<div class="divider">
				<mat-divider></mat-divider>
			</div>
		
		<h3 class="title">Payment</h3>
		
		<div>
			<button mat-raised-button routerLink="/plans">Change Plans</button>
			<span *ngIf="CurrentUser.PlanNickname" style="margin:0 15px;">Currently: {{CurrentUser.PlanNickname}}</span>
		</div>
	</mat-card-content>
</mat-card>

<mat-card *ngIf="Loading">
	<mat-spinner mode="indeterminate" color="primary"></mat-spinner>
</mat-card>